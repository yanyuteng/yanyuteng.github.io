<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#fffcf7"><meta name="generator" content="Hexo 7.1.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/avater.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/avater.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/avater.png"><link rel="mask-icon" href="/images/avater.png" color="#fffcf7"><meta name="google-site-verification" content="googleee4b5679d267f770"><meta name="yandex-verification" content="38acd5609bb24623"><meta name="baidu-site-verification" content="codeva-LyNyxfejbC"><script class="next-config" data-name="main" type="application/json">{"hostname":"blog.yanyuteng.cn","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.19.2","exturl":false,"sidebar":{"position":"left","width":280,"display":"always","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":true,"height":300},"bookmark":{"enable":true,"color":"rgba(216, 216, 216, 0.8)","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/db.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Alegreya:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext" media="print" onload='this.onload=null,this.media="all"'><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha256-wiz7ZSCn/btzhjKDQBms9Hx4sSeUYsDrTLg7roPstac=" crossorigin="anonymous"><link rel="preload" href="/font/ZhuqueFangsong/result.css" as="style" onload='this.onload=null,this.rel="stylesheet"'><meta name="description" content="有关人口预测的模型和方法很多，不同方法和模型各有优缺点，这里用ARIMA模型与2019年某市统计年鉴示例常住人口的预测。ARIMA(p,d,q)，p 为自回归阶数，d为时间序列称为平稳序列进行差分的阶数，q为移动平均阶数，其一般表达式为： y1&#x3D;μ+φ1yt−1+⋯+φpyt−p+θ1αt−1+⋯+θqαt−qy_{1} &#x3D; \mu + \varphi_{1}y_{t - 1} + \cdots"><meta property="og:type" content="article"><meta property="og:title" content="Prose_用ARIMA做人口预测"><meta property="og:url" content="https://blog.yanyuteng.cn/2020/05/19/6a255d2/index.html"><meta property="og:site_name" content="Yan&#39;s Blog"><meta property="og:description" content="有关人口预测的模型和方法很多，不同方法和模型各有优缺点，这里用ARIMA模型与2019年某市统计年鉴示例常住人口的预测。ARIMA(p,d,q)，p 为自回归阶数，d为时间序列称为平稳序列进行差分的阶数，q为移动平均阶数，其一般表达式为： y1&#x3D;μ+φ1yt−1+⋯+φpyt−p+θ1αt−1+⋯+θqαt−qy_{1} &#x3D; \mu + \varphi_{1}y_{t - 1} + \cdots"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://blog-demos.oss-cn-hongkong.aliyuncs.com/uPic/20200519_1_ForecastRplot.jpeg"><meta property="og:image" content="https://blog-demos.oss-cn-hongkong.aliyuncs.com/uPic/20200519_2_Pop.jpg"><meta property="og:image" content="https://blog-demos.oss-cn-hongkong.aliyuncs.com/uPic/20200519_3_PopDif.jpg"><meta property="article:published_time" content="2020-05-18T16:00:00.000Z"><meta property="article:modified_time" content="2024-05-28T17:18:28.262Z"><meta property="article:author" content="Yuteng Yan"><meta property="article:tag" content="prose"><meta property="article:tag" content="projection"><meta property="article:tag" content="econometrics"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://blog-demos.oss-cn-hongkong.aliyuncs.com/uPic/20200519_1_ForecastRplot.jpeg"><link rel="canonical" href="https://blog.yanyuteng.cn/2020/05/19/6a255d2/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://blog.yanyuteng.cn/2020/05/19/6a255d2/","path":"2020/05/19/6a255d2/","title":"Prose_用ARIMA做人口预测"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Prose_用ARIMA做人口预测 | Yan's Blog</title><script src="/js/third-party/analytics/baidu-analytics.js"></script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?55642c149892163d969043b751e55219",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><script type="text/javascript">!function(t,e,n,c,a,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(a=e.createElement(c)).async=1,a.src="https://www.clarity.ms/tag/g4957w100y",(r=e.getElementsByTagName(c)[0]).parentNode.insertBefore(a,r)}(window,document,"clarity","script")</script><link rel="dns-prefetch" href="https://yuteng-waline.netlify.app/.netlify/functions/comment/"><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><link rel="alternate" href="/atom.xml" title="Yan's Blog" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Yan's Blog</p><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-list fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-résumé"><a href="https://yanyuteng.cn/biography/" rel="section" target="_blank"><i class="fa fa-id-card fa-fw"></i>Résumé</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E9%A2%84%E6%B5%8B%E5%8F%82%E6%95%B0%E8%AE%BE%E5%AE%9A%E4%B8%8E%E4%BC%B0%E8%AE%A1"><span class="nav-text">1．预测参数设定与估计</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E4%BA%BA%E5%8F%A3%E9%A2%84%E6%B5%8B%E4%B8%BB%E8%A6%81%E7%BB%93%E6%9E%9C"><span class="nav-text">2．人口预测主要结果</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Yuteng Yan" src="/images/avater.png"><p class="site-author-name" itemprop="name">Yuteng Yan</p><div class="site-description" itemprop="description">有言毕竟胜无言</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">248</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">21</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">71</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/yanyuteng" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yanyuteng" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i></a> </span><span class="links-of-author-item"><a href="mailto:yanyuteng@ruc.edu.cn" title="E-Mail → mailto:yanyuteng@ruc.edu.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i></a> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i></a></span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://blog.yanyuteng.cn/2020/05/19/6a255d2/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avater.png"><meta itemprop="name" content="Yuteng Yan"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Yan's Blog"><meta itemprop="description" content="有言毕竟胜无言"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Prose_用ARIMA做人口预测 | Yan's Blog"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Prose_用ARIMA做人口预测</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-05-19 00:00:00" itemprop="dateCreated datePublished" datetime="2020-05-19T00:00:00+08:00">2020-05-19</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Social-Research-Method/" itemprop="url" rel="index"><span itemprop="name">Social Research Method</span></a> </span>, <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Social-Research-Method/Quantitative-Method/" itemprop="url" rel="index"><span itemprop="name">Quantitative Method</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Waline: </span><a title="waline" href="/2020/05/19/6a255d2/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/2020/05/19/6a255d2/" itemprop="commentCount"></span> </a></span><span class="post-meta-item" title="Views"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">Views: </span><span class="waline-pageview-count" data-path="/2020/05/19/6a255d2/"></span> </span><span class="post-meta-break"></span> <span class="post-meta-item" title="Word count in article"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">Word count in article: </span><span>1.7k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>6 mins.</span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>有关人口预测的模型和方法很多，不同方法和模型各有优缺点，这里用ARIMA模型与2019年某市统计年鉴示例常住人口的预测。ARIMA(p,d,q)，p 为自回归阶数，d为时间序列称为平稳序列进行差分的阶数，q为移动平均阶数，其一般表达式为：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>y</mi><mn>1</mn></msub><mo>=</mo><mi>μ</mi><mo>+</mo><msub><mi>φ</mi><mn>1</mn></msub><msub><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mo>⋯</mo><mo>+</mo><msub><mi>φ</mi><mi>p</mi></msub><msub><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mi>p</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mn>1</mn></msub><msub><mi>α</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mo>⋯</mo><mo>+</mo><msub><mi>θ</mi><mi>q</mi></msub><msub><mi>α</mi><mrow><mi>t</mi><mo>−</mo><mi>q</mi></mrow></msub></mrow><annotation encoding="application/x-tex">y_{1} = \mu + \varphi_{1}y_{t - 1} + \cdots + \varphi_{p}y_{t - p} + \theta_{1}\alpha_{t - 1} + \cdots + \theta_{q}\alpha_{t - q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.7777700000000001em;vertical-align:-.19444em"></span><span class="mord mathnormal">μ</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.791661em;vertical-align:-.208331em"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.301108em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.208331em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.8694379999999999em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.28055599999999997em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.902771em;vertical-align:-.208331em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.02778em">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:.0037em">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.301108em"><span style="top:-2.5500000000000003em;margin-left:-.0037em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.208331em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.66666em;vertical-align:-.08333em"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.980548em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.02778em">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03588em">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:.0037em">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.28055599999999997em"><span style="top:-2.5500000000000003em;margin-left:-.0037em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:.03588em">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span></span></p><span id="more"></span><h2 id="1预测参数设定与估计"><a class="markdownIt-Anchor" href="#1预测参数设定与估计"></a> 1．预测参数设定与估计</h2><p>运用 ARIMA 模型建立模型通常从以下三个步骤出发：<br>第一步，时间序列平稳化处理:根据时间序列趋势图，如果所得出的时间序列不是平稳时间序列，应当采用差分运算将原时间序列变为平稳时间序列，几阶差分需要通过单方根检验得出最优差分阶数d。差分运算就是后一时间点减去当前时间如<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>t</mi></msub><mo>−</mo><msub><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">y_{t}-y_{t-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7777700000000001em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.638891em;vertical-align:-.208331em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.301108em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.208331em"><span></span></span></span></span></span></span></span></span></span>，用D表示，定义为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><msub><mi>y</mi><mi>t</mi></msub></msub><mo>=</mo><msub><mi>y</mi><mi>t</mi></msub><mo>−</mo><msub><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">D_{y_{t}}=y_{t}-y_{t-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.969438em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.29634285714285713em"><span style="top:-2.357em;margin-left:-.03588em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.7777700000000001em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.638891em;vertical-align:-.208331em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.301108em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.208331em"><span></span></span></span></span></span></span></span></span></span>。那么k阶差分可表示为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>t</mi></msub><mo>−</mo><msub><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mi mathvariant="normal">k</mi></mrow></msub><mo>=</mo><msub><mi>D</mi><mi>k</mi></msub><msub><mi>y</mi><mi>t</mi></msub><mo>=</mo><mrow><mo fence="true">(</mo><mn>1</mn><mo>−</mo><msup><mi>L</mi><mi>k</mi></msup><mo fence="true">)</mo></mrow><msub><mi>y</mi><mi>t</mi></msub><mo>=</mo><msub><mi>y</mi><mi>t</mi></msub><mo>−</mo><msup><mi>L</mi><mi>k</mi></msup><msub><mi>y</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">y_{t}-y_{t-\mathrm{k}}=D_{k} y_{t}=\left(1-L^{k}\right) y_{t}=y_{t}-L^{k} y_{t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7777700000000001em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.638891em;vertical-align:-.208331em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathrm mtight">k</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.208331em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.20001em;vertical-align:-.35001em"></span><span class="minner"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size1">(</span></span><span class="mord">1</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.849108em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.7777700000000001em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.043548em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.849108em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal">L</span></span></span></span>为滞后算子，定义为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><msub><mi>y</mi><mi>t</mi></msub></msub><mo>=</mo><msub><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">L_{y_{t}}=y_{t-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.969438em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.29634285714285713em"><span style="top:-2.357em;margin-left:-.03588em;margin-right:.07142857142857144em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.143em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.638891em;vertical-align:-.208331em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.301108em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.208331em"><span></span></span></span></span></span></span></span></span></span>，则k阶之后算子定义为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>L</mi><mi>k</mi></msup><msub><mi>y</mi><mi>t</mi></msub><mo>=</mo><msub><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L^{k} y_{t}=y_{t-k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.043548em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.849108em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2805559999999999em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.638891em;vertical-align:-.208331em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:-.03588em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.208331em"><span></span></span></span></span></span></span></span></span></span>。<br>第二步，模型参数估计与检验：根据时间序列的自相关函数图(ACF)与偏相关函数图(PACF)的拖尾与截尾的性质，可以判断参数p与q。通过由低阶到高阶的尝试，选取最优的模型参数值；并进行残差的白噪声检验，选择合适的模型；如果未通过检验，应当重新选择模型。</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">AR(p)</th><th style="text-align:center">MA(q)</th><th style="text-align:center">ARMA(p,q),p&gt;0,q&gt;0</th></tr></thead><tbody><tr><td style="text-align:center">ACF</td><td style="text-align:center">拖尾</td><td style="text-align:center">滞后q阶后截尾</td><td style="text-align:center">拖尾</td></tr><tr><td style="text-align:center">PACF</td><td style="text-align:center">滞后p阶后截尾</td><td style="text-align:center">拖尾</td><td style="text-align:center">拖尾</td></tr></tbody></table><p>具体而言，当d=0,ARIMA(p,d,q)模型实际上就是ARMA（p,q）模型；当p=0,ARIMA(0,d,q)模型可以简记为IMA（d,q）模型；当q=0,ARIMA(p,d,0)模型可以简记为ARI（d,q）模型；当d=1,p=q=0时，ARIMA（0，1，0）模型为游走模型或称醉汉模型，是最简单的ARIMA模型。<br>第三步，模型预测：运用选择的适当的ARIMA 模型对未来某市常住人口人数进行预测并分析。</p><h2 id="2人口预测主要结果"><a class="markdownIt-Anchor" href="#2人口预测主要结果"></a> 2．人口预测主要结果</h2><p>根据预测，2019至2025年，某市常住人口、在业人口及第二、三产业在业人口的主要数据如图所示。</p><p><img data-src="https://blog-demos.oss-cn-hongkong.aliyuncs.com/uPic/20200519_1_ForecastRplot.jpeg" alt="某市常住人口、在业人口及第二、三产业在业人口1979-2018年历史变迁暨2019-2025年趋势预测图"></p><p>以常住人口为例，具体数据如下：<br>1979年至2018年某市常住人口人数如图左侧第一幅图所示，趋势图显示1979年至2018年某市常住人口总体呈上升趋势。<br>由于某市常住人口的时间序列有明显的递增趋势，所以它一定不是平稳序列，因此将原始数据进行差分运算。进行差分遵循从小到大这一特点，故现对该时间序列进行1阶差分运算，得出如图左侧第二幅图所示的趋势图。1阶差分时间序列图显示，1阶差分处理后的数据增减趋势趋于平稳，但基于R语言可以迅速得出，常住人口1阶差分的ADF检验P值大于0.05，差分1次后的时间序列仍非平稳序列，依据数据最优化及准确性原则，对1阶差分后的时间序列再做一次差分运算，常住人口2阶差分的ADF检验P值小于0.05，因此参数d取值为2。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">library<span class="punctuation">(</span><span class="string">&#x27;tseries&#x27;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&#x27;fUnitRoots&#x27;</span><span class="punctuation">)</span></span><br><span class="line">pop <span class="operator">&lt;-</span> read.xlsx<span class="punctuation">(</span><span class="string">&quot;predict_shenzhen.xlsx&quot;</span><span class="punctuation">,</span> sheetName <span class="operator">=</span> <span class="string">&quot;sheet1&quot;</span><span class="punctuation">,</span> encoding <span class="operator">=</span> <span class="string">&#x27;UTF-8&#x27;</span><span class="punctuation">)</span></span><br><span class="line">par<span class="punctuation">(</span>mfrow<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">plot<span class="punctuation">(</span>pop.fit<span class="punctuation">,</span>col<span class="operator">=</span><span class="number">7</span><span class="punctuation">,</span>pch<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;o&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># acf(pop.fit,lwd=2,col=4)</span></span><br><span class="line">adf.test<span class="punctuation">(</span>pop.fit<span class="punctuation">)</span> <span class="comment">#tseries</span></span><br><span class="line">adfTest<span class="punctuation">(</span>pop.fit<span class="punctuation">)</span> <span class="comment">#fUnitRoots</span></span><br><span class="line">pop.dif1<span class="operator">=</span>diff<span class="punctuation">(</span>pop.fit<span class="punctuation">,</span>difference<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">plot<span class="punctuation">(</span>pop.dif1<span class="punctuation">,</span>col<span class="operator">=</span><span class="number">7</span><span class="punctuation">,</span>pch<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;o&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># acf(pop.dif1,lwd=2,col=4)</span></span><br><span class="line">adf.test<span class="punctuation">(</span>pop.dif1<span class="punctuation">)</span></span><br><span class="line">adfTest<span class="punctuation">(</span>pop.dif1<span class="punctuation">)</span></span><br><span class="line">pop.dif2<span class="operator">=</span>diff<span class="punctuation">(</span>pop.fit<span class="punctuation">,</span>difference<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line">plot<span class="punctuation">(</span>pop.dif2<span class="punctuation">,</span>col<span class="operator">=</span><span class="number">7</span><span class="punctuation">,</span>pch<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;o&quot;</span><span class="punctuation">)</span></span><br><span class="line">adf.test<span class="punctuation">(</span>pop.dif2<span class="punctuation">)</span></span><br><span class="line">adfTest<span class="punctuation">(</span>pop.dif2<span class="punctuation">)</span> <span class="comment">#d=2</span></span><br></pre></td></tr></table></figure><p><img data-src="https://blog-demos.oss-cn-hongkong.aliyuncs.com/uPic/20200519_2_Pop.jpg" alt="某市1979-2018年常住人口1阶、2阶差分时间序列图"></p><p>根据图“二阶差分后的自相关图与偏自相关图”，显示没有超过边界值。对平稳后的时间序列，即对1阶与2阶差分处理后的时间序列绘制自相关图与偏自相关图。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">par<span class="punctuation">(</span>mfrow<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">acf<span class="punctuation">(</span>pop.dif2<span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span>col<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span>lag.max<span class="operator">=</span><span class="number">20</span><span class="punctuation">)</span> </span><br><span class="line">pacf<span class="punctuation">(</span>pop.dif2<span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span>col<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span>lag.max<span class="operator">=</span><span class="number">20</span><span class="punctuation">)</span> <span class="comment"># q=0 p=0</span></span><br><span class="line">auto.arima<span class="punctuation">(</span>pop.fit<span class="punctuation">,</span>d<span class="operator">=</span><span class="number">2</span><span class="punctuation">,</span>trace<span class="operator">=</span><span class="built_in">T</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p>此时选择ARIMA(p,d,q)模型进行预测时，参数根据0、1、2从低阶到高阶选择，根据AIC准则作为选择最优值模型（表 某市常住人口ARIMA备选模型拟合统计量），比较发现模型ARIMA(0,2,0)的AIC=323.46最小，即此模型拟合效果最好。对残差序列进行白噪声检验，得出P值大于0.05，残差序列白噪声检验说明模型显著。判断ARIMA(0,2,0)模型对常住人口的时间序列拟合成功。</p><p><img data-src="https://blog-demos.oss-cn-hongkong.aliyuncs.com/uPic/20200519_3_PopDif.jpg" alt="某市常住人口d=2自相关和偏自相关图"></p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">ARIMA(2,2,2)</th><th style="text-align:center">ARIMA(0,2,0)</th><th style="text-align:center">ARIMA(1,2,0)</th><th style="text-align:center">ARIMA(0,2,1)</th><th style="text-align:center">ARIMA(1,2,1)</th></tr></thead><tbody><tr><td style="text-align:center">AICc</td><td style="text-align:center">329.6454</td><td style="text-align:center">323.4607</td><td style="text-align:center">324.5957</td><td style="text-align:center">324.3949</td><td style="text-align:center">324.4877</td></tr></tbody></table><p>运用上述得到的ARIMA(0,2,0)模型对某市常住人口及置信水平分别为80%和95%双层置信区间进行预测，得到下表。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pop.fit2<span class="operator">=</span>arima<span class="punctuation">(</span>pop.fit<span class="punctuation">,</span>order<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">,</span><span class="number">0</span><span class="punctuation">)</span><span class="punctuation">,</span>method<span class="operator">=</span><span class="string">&quot;ML&quot;</span><span class="punctuation">)</span></span><br><span class="line">pop.fit2</span><br><span class="line"><span class="comment"># white noise test</span></span><br><span class="line">par<span class="punctuation">(</span>mfrow<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">qqnorm<span class="punctuation">(</span>pop.fit2<span class="operator">$</span>residual<span class="punctuation">)</span></span><br><span class="line">qqline<span class="punctuation">(</span>pop.fit2<span class="operator">$</span>residual<span class="punctuation">)</span></span><br><span class="line"><span class="keyword">for</span><span class="punctuation">(</span>i <span class="keyword">in</span> <span class="number">1</span><span class="operator">:</span><span class="number">3</span><span class="punctuation">)</span> print<span class="punctuation">(</span>Box.test<span class="punctuation">(</span>pop.dif2<span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;Ljung-Box&quot;</span><span class="punctuation">,</span>lag<span class="operator">=</span><span class="number">6</span><span class="operator">*</span>i<span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p>最后，有80%的把握，2025年常住人口落入1399.77万人至1903.17万人区间内；有95%的把握，2025年常住人口落入1266.53万人至2036.41万人区间内。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pop.fore<span class="operator">=</span>forecast<span class="punctuation">(</span>pop.fit2<span class="punctuation">,</span>h<span class="operator">=</span><span class="number">7</span><span class="punctuation">)</span> <span class="comment"># Forecast</span></span><br><span class="line">pop.fore</span><br></pre></td></tr></table></figure><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">预测值</th><th style="text-align:center">80%置信区间</th><th style="text-align:center">95%置信区间</th></tr></thead><tbody><tr><td style="text-align:center">2019</td><td style="text-align:center">1352.49</td><td style="text-align:center">1331.22,1373.76</td><td style="text-align:center">1319.96,1385.02</td></tr><tr><td style="text-align:center">2020</td><td style="text-align:center">1402.32</td><td style="text-align:center">1354.75,1449.89</td><td style="text-align:center">1329.57,1475.07</td></tr><tr><td style="text-align:center">2021</td><td style="text-align:center">1452.15</td><td style="text-align:center">1372.56,1531.75</td><td style="text-align:center">1330.42,1573.88</td></tr><tr><td style="text-align:center">2022</td><td style="text-align:center">1501.98</td><td style="text-align:center">1385.47,1618.50</td><td style="text-align:center">1323.79,1680.17</td></tr><tr><td style="text-align:center">2023</td><td style="text-align:center">1551.81</td><td style="text-align:center">1394.05,1709.57</td><td style="text-align:center">1310.54,1793.09</td></tr><tr><td style="text-align:center">2024</td><td style="text-align:center">1601.64</td><td style="text-align:center">1398.71,1804.57</td><td style="text-align:center">1291.29,1911.99</td></tr><tr><td style="text-align:center">2025</td><td style="text-align:center">1651.47</td><td style="text-align:center">1399.77,1903.17</td><td style="text-align:center">1266.53,2036.41</td></tr></tbody></table><p>另，统计数据的口径时常让人困扰。仅本文所使用的数据而言：（1）经普和年鉴的二、三产业占比的存在出入。如经普里2004到2008的二产业占比下降仅0.1%，但年鉴里下降3%；再如经普和年鉴2008、2013的二产业占比差异6%和8%（近10%）。（2）经普和年鉴的就业人口出入。经普2004、2008就业人口都比年鉴少；2013、2018就业人口比年鉴多。为了更贴近真实情况，可能是就业人口数据按经普2013、2018调整，然后平滑2008至2018的十年数据，但是具体占比仍按年鉴，这样做在整体就业人口上出入小，只影响二、三产业的人口数量。</p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"><strong>Post author: </strong>Yuteng Yan</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://blog.yanyuteng.cn/2020/05/19/6a255d2/" title="Prose_用ARIMA做人口预测">https://blog.yanyuteng.cn/2020/05/19/6a255d2/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="post-tags"><a href="/tags/prose/" rel="tag"># prose</a> <a href="/tags/projection/" rel="tag"># projection</a> <a href="/tags/econometrics/" rel="tag"># econometrics</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2020/04/11/4197855d/" rel="prev" title="Prose_Sociology PhD Programs in Hong Kong"><i class="fa fa-angle-left"></i> Prose_Sociology PhD Programs in Hong Kong</a></div><div class="post-nav-item"><a href="/2020/05/28/8695d033/" rel="next" title="Diary_南宁食记">Diary_南宁食记 <i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div style="display:flex;justify-content:center;align-items:center;gap:10px"><div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-solid fa-pen-nib"></i> </span>Yuteng Yan</div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span title="Word count total">945k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="Reading time total">52:32</span></span></div></div><div class="FindBlog-link" style="display:flex;justify-content:center;gap:5px"><span style="margin-right:5px">Blogs:</span><a href="https://d.cosx.org/d/421538" target="_blank" rel="noopener" style="margin-right:5px;color:#565656">RBind.io</a> <a href="https://discoveryinsights.site" target="_blank" rel="noopener" style="margin-right:5px;color:#565656">Insights</a> <a href="https://travellings.cn/plain.html" target="_blank" rel="noopener" style="margin-right:5px;color:#909090">Travelling</a> <a href="https://boyouquan.com/planet-shuttle" target="_blank" rel="noopener" style="color:#909090">Boyou</a></div><div style="display:flex;justify-content:center;width:100%"><div class="2ICP-link" style="display:flex;align-items:center"><img style="height:16px;margin-right:5px" src="/images/icon120.png"> <a href="https://icp.gov.moe/?keyword=20240901" target="_blank">萌ICP备20240901号</a></div></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script class="next-config" data-name="waline" type="application/json">{"lang":"en-US","enable":true,"serverURL":"https://yuteng-waline.netlify.app/.netlify/functions/comment/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":true,"locale":{"placeholder":"Kindly enter your nickname, allowing me to respond to your comment."},"emoji":null,"wordLimit":1000,"login":"enable","pageSize":10,"requiredMeta":[["nick"]],"el":"#waline","comment":true,"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","path":"/2020/05/19/6a255d2/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>document.addEventListener("page:loaded",()=>{NexT.utils.loadComments(CONFIG.waline.el).then(()=>NexT.utils.getScript(CONFIG.waline.libUrl,{condition:window.Waline})).then(()=>Waline.init(Object.assign({},CONFIG.waline,{el:document.querySelector(CONFIG.waline.el)})))})</script></body></html>