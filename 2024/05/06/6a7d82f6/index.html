<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#fffcf7"><meta name="generator" content="Hexo 7.1.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/avater.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/avater.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/avater.png"><link rel="mask-icon" href="/images/avater.png" color="#fffcf7"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Alegreya:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext" media="print" onload='this.onload=null,this.media="all"'><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha256-wiz7ZSCn/btzhjKDQBms9Hx4sSeUYsDrTLg7roPstac=" crossorigin="anonymous"><link href="/font/ZhuqueFangsong/result.css" rel="stylesheet"><script class="next-config" data-name="main" type="application/json">{"hostname":"blog.yanyuteng.cn","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.19.2","exturl":false,"sidebar":{"position":"left","width":280,"display":"always","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":true,"height":300},"bookmark":{"enable":true,"color":"rgba(216, 216, 216, 0.8)","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/db.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><meta name="description" content="原博客日志散记于Diary分类下各年日记中，考虑到博客日志有其历史意义，便集于一篇，按时间倒序排列。"><meta property="og:type" content="article"><meta property="og:title" content="Prose_博客日志"><meta property="og:url" content="https://blog.yanyuteng.cn/2024/05/06/6a7d82f6/index.html"><meta property="og:site_name" content="Yan&#39;s Blog"><meta property="og:description" content="原博客日志散记于Diary分类下各年日记中，考虑到博客日志有其历史意义，便集于一篇，按时间倒序排列。"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2024-05-05T16:00:00.000Z"><meta property="article:modified_time" content="2024-05-28T19:22:21.312Z"><meta property="article:author" content="Yuteng Yan"><meta property="article:tag" content="log"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://blog.yanyuteng.cn/2024/05/06/6a7d82f6/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://blog.yanyuteng.cn/2024/05/06/6a7d82f6/","path":"2024/05/06/6a7d82f6/","title":"Prose_博客日志"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Prose_博客日志 | Yan's Blog</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KCJGZYSLYG# <app_id>"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KCJGZYSLYG# \u003capp_id>","only_pageview":false}</script><script src="/js/third-party/analytics/google-analytics.js"></script><link rel="dns-prefetch" href="https://yuteng-waline.netlify.app/.netlify/functions/comment/"><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><link rel="alternate" href="/atom.xml" title="Yan's Blog" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Yan's Blog</p><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-list fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-résumé"><a href="https://yanyuteng.cn/biography/" rel="section" target="_blank"><i class="fa fa-id-card fa-fw"></i>Résumé</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#2024527-%E5%A3%B0%E9%9F%B3%E4%B8%8Etag%E4%BD%93%E7%B3%BB"><span class="nav-text">2024.5.27 声音与tag体系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2024524-%E4%B8%BB%E9%A1%B5%E7%85%A7%E7%89%87%E4%B8%8E%E5%8D%9A%E5%AE%A2%E5%AD%97%E4%BD%93"><span class="nav-text">2024.5.24 主页照片与博客字体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2024516-%E5%BC%82%E6%AD%A5%E5%AD%97%E4%BD%93%E5%8A%A0%E8%BD%BD"><span class="nav-text">2024.5.16 异步字体加载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#202458-%E7%AE%80%E5%8E%86%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8F%98%E6%9B%B4"><span class="nav-text">2024.5.8 简历页字体变更</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#202456-%E7%AE%80%E5%8E%86%E9%A1%B5%E5%8F%8C%E8%AF%AD"><span class="nav-text">2024.5.6 简历页双语</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2024427-%E5%8E%86%E5%8F%B2%E8%AF%84%E8%AE%BA%E5%AF%BC%E5%85%A5"><span class="nav-text">2024.4.27 历史评论导入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2024418-%E8%90%8C%E5%A4%87%E6%A1%88%E4%B8%8E%E5%85%AC%E5%BC%8F"><span class="nav-text">2024.4.18 萌备案与公式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2024416-%E5%AD%90%E5%9F%9F%E5%90%8D%E8%B7%B3%E8%BD%AC%E4%B8%8E%E8%84%9A%E6%B3%A8%E5%8A%9F%E8%83%BD"><span class="nav-text">2024.4.16 子域名跳转与脚注功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2024415-%E6%96%B0%E5%A2%9E%E5%8D%9A%E5%AE%A2%E5%9C%88%E9%93%BE%E6%8E%A5"><span class="nav-text">2024.4.15 新增博客圈链接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2024414-%E6%97%85%E8%A1%8C%E5%9C%B0%E5%9B%BE%E4%B8%8E%E5%8D%9A%E5%AE%A2%E5%AD%97%E4%BD%93"><span class="nav-text">2024.4.14 旅行地图与博客字体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2024412-hexo%E6%A1%86%E6%9E%B6%E6%9B%B4%E6%96%B0"><span class="nav-text">2024.4.12 Hexo框架更新</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#202364-category%E6%9B%B4%E6%96%B0"><span class="nav-text">2023.6.4 Category更新</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2023329-http%E4%BF%AE%E8%AE%A2"><span class="nav-text">2023.3.29 HTTP修订</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#202331-netlify%E9%95%9C%E5%83%8F"><span class="nav-text">2023.3.1 Netlify镜像</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2023228-gitlab%E4%B8%8Ecloudflare%E6%9C%AA%E6%9E%9C"><span class="nav-text">2023.2.28 Gitlab与Cloudflare未果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2023227-%E6%A3%80%E7%B4%A2%E9%80%9F%E5%BA%A6%E4%BC%98%E5%8C%96"><span class="nav-text">2023.2.27 检索速度优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2022912-pdf%E6%8F%92%E4%BB%B6%E5%A4%B1%E8%B4%A5%E6%97%A5%E5%BF%97"><span class="nav-text">2022.9.12 pdf插件失败日志</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2021107-%E5%9C%B0%E5%9D%80%E8%BF%81%E7%A7%BB"><span class="nav-text">2021.10.7 地址迁移</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2021812-waline%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F"><span class="nav-text">2021.8.12 Waline评论系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20201028-%E5%9B%BE%E5%BA%8A%E5%8F%98%E6%9B%B4"><span class="nav-text">2020.10.28 图床变更</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2020829-%E5%8D%9A%E5%AE%A2%E5%A4%87%E4%BB%BD"><span class="nav-text">2020.8.29 博客备份</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2020714-%E5%8A%A0%E8%BD%BD%E6%8F%90%E9%80%9F"><span class="nav-text">2020.7.14 加载提速</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2020712-%E6%A3%80%E7%B4%A2%E9%97%AE%E9%A2%98"><span class="nav-text">2020.7.12 检索问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2020520-%E5%9F%9F%E5%90%8D%E5%AE%9A%E5%90%91%E9%97%AE%E9%A2%98"><span class="nav-text">2020.5.20 域名定向问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2020213-ssl%E8%AF%81%E4%B9%A6"><span class="nav-text">2020.2.13 SSL证书</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2019523-echart%E6%8F%92%E4%BB%B6"><span class="nav-text">2019.5.23 Echart插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2018123-%E5%88%86%E7%B1%BB%E5%8F%98%E5%8A%A8"><span class="nav-text">2018.12.3 分类变动</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2018725-hexo_url%E9%85%8D%E7%BD%AE"><span class="nav-text">2018.7.25 Hexo_url配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20171127-%E6%9B%B4%E6%96%B0node"><span class="nav-text">2017.11.27 更新node</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2017413-ip%E5%88%86%E6%B5%81%E6%8F%90%E9%80%9F"><span class="nav-text">2017.4.13 IP分流提速</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#201735-%E5%9C%B0%E5%9D%80%E8%BF%81%E7%A7%BB"><span class="nav-text">2017.3.5 地址迁移</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2017224-%E5%9C%B0%E5%9D%80%E8%BF%81%E7%A7%BB"><span class="nav-text">2017.2.24 地址迁移</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2016115-vendors%E7%9B%AE%E5%BD%95%E8%AE%BF%E9%97%AE%E5%A4%B1%E6%95%88"><span class="nav-text">2016.11.5 vendors目录访问失效</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2016613-%E5%88%A0%E5%BA%93%E6%96%B0%E6%B5%AA%E5%8D%9A%E5%AE%A2"><span class="nav-text">2016.6.13 删库新浪博客</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2016531-%E5%9C%B0%E5%9D%80%E8%BF%81%E7%A7%BB"><span class="nav-text">2016.5.31 地址迁移</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#201536-%E5%BC%80%E9%80%9A%E6%96%B0%E6%B5%AA%E5%8D%9A%E5%AE%A2"><span class="nav-text">2015.3.6 开通新浪博客</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Yuteng Yan" src="/images/avater.png"><p class="site-author-name" itemprop="name">Yuteng Yan</p><div class="site-description" itemprop="description">有言毕竟胜无言</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">240</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">21</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">69</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/yanyuteng" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yanyuteng" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i></a> </span><span class="links-of-author-item"><a href="mailto:yanyuteng@ruc.edu.cn" title="E-Mail → mailto:yanyuteng@ruc.edu.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i></a> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i></a></span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://blog.yanyuteng.cn/2024/05/06/6a7d82f6/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avater.png"><meta itemprop="name" content="Yuteng Yan"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Yan's Blog"><meta itemprop="description" content="有言毕竟胜无言"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Prose_博客日志 | Yan's Blog"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Prose_博客日志</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2024-05-06 00:00:00" itemprop="dateCreated datePublished" datetime="2024-05-06T00:00:00+08:00">2024-05-06</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Commentary-Prose/" itemprop="url" rel="index"><span itemprop="name">Commentary & Prose</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Waline: </span><a title="waline" href="/2024/05/06/6a7d82f6/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/2024/05/06/6a7d82f6/" itemprop="commentCount"></span> </a></span><span class="post-meta-item" title="Views"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">Views: </span><span class="waline-pageview-count" data-path="/2024/05/06/6a7d82f6/"></span> </span><span class="post-meta-break"></span> <span class="post-meta-item" title="Word count in article"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">Word count in article: </span><span>4.8k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>16 mins.</span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>原博客日志散记于Diary分类下各年日记中，考虑到博客日志有其历史意义，便集于一篇，按时间倒序排列。</p><span id="more"></span><h3 id="2024527-声音与tag体系"><a class="markdownIt-Anchor" href="#2024527-声音与tag体系"></a> 2024.5.27 声音与tag体系</h3><p>博客简介中加入俺的声音，以增强对话感。借助<a target="_blank" rel="noopener" href="https://wavesurfer.xyz">wavesurfer.js</a>插件，这个插件可以将声音可视化，它的<a target="_blank" rel="noopener" href="https://wavesurfer.xyz/examples/?spectrogram.js">频谱图（Spectrogram）</a>很酷！<s>晚上玩了好一会插件</s>。翌日晚，对tag进行梳理彻查，一级tag按互斥的book、paper、prose设计，tag数量小幅压缩且更具体系化。</p><h3 id="2024524-主页照片与博客字体"><a class="markdownIt-Anchor" href="#2024524-主页照片与博客字体"></a> 2024.5.24 主页照片与博客字体</h3><p>第一，重排版主页，且加入照片。第二，修订移动端自适应。第三，解决en目录下移动端menu多个Category被激活问题。第四，指定博客中、英文字体，中文字题里思源宋体仍缺乏美感，替换为<a target="_blank" rel="noopener" href="https://chinese-font.netlify.app/fonts/zqfs/zhuquefangsong-regular/">朱雀仿宋</a>，英文字体统一为Alegreya。<br>关于第三点，在主题js文件下声明真实路径。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 查找路径函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">normalizePath</span>(<span class="params">path, removeIndex</span>) &#123;</span><br><span class="line">  <span class="comment">// 路径规范化</span></span><br><span class="line">  <span class="keyword">if</span> (removeIndex) &#123;</span><br><span class="line">    path = path.<span class="title function_">replace</span>(<span class="regexp">/index\.html$/</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">replace</span>(<span class="regexp">/\/$/</span>, <span class="string">&#x27;&#x27;</span>); <span class="comment">// 移除结尾斜杠</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// mobile-nav-link</span></span><br><span class="line"><span class="keyword">let</span> mlinks = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.mobile-nav-link&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> mrootRealPath = <span class="title function_">normalizePath</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> mlink <span class="keyword">of</span> mlinks) &#123;</span><br><span class="line">  <span class="keyword">let</span> mlinkPath = mlink.<span class="title function_">getAttribute</span>(<span class="string">&quot;href&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (mlinkPath) &#123;</span><br><span class="line">    <span class="keyword">let</span> mlinkRealPath = <span class="title function_">normalizePath</span>(mlinkPath, <span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">if</span> (mlinkRealPath === mrootRealPath) &#123;</span><br><span class="line">      mlink.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;mobile-active-link&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      mlink.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;mobile-active-link&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>关于第四点，按Next<a target="_blank" rel="noopener" href="https://hexo-next.readthedocs.io/zh-cn/latest/next/advanced/%E5%AD%97%E4%BD%93%E8%AE%BE%E7%BD%AE/">官网思路</a>，配置如下文件。/source/css/_variables/base.styl的$font-family-chinese变量、/layout/partials/head/head.njk的font载入，仍加载分包后的本地字体，基本流程与五月八日一致。且鉴于朱雀仿宋字体稍小，调整/source/css/_variables/base.styl的$font-size-base变量。<br>另，排查警告信息，独立安装punycode，并修订根目录下/node_modules/markdown-it/lib/index.js，不再报警。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// (node:29049) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.</span><br><span class="line">npm install punycode</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// Update</span><br><span class="line">// Old code</span><br><span class="line">var punycode = require(<span class="string">&#x27;punycode&#x27;</span>);</span><br><span class="line">// New code</span><br><span class="line">var punycode = require(<span class="string">&#x27;punycode/&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="2024516-异步字体加载"><a class="markdownIt-Anchor" href="#2024516-异步字体加载"></a> 2024.5.16 异步字体加载</h3><p>第一，修订Next主题下/scripts/helpers/font.js文件。第二，统一阿里云oss图片存储的命名格式，如20240516_1_Name。第三，考虑国内访问，将博客评论系统Waline部署从Valine迁移至Netlify。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> fontFamilies ? <span class="string">`&lt;link rel=&quot;stylesheet&quot; href=&quot;<span class="subst">$&#123;fontHost&#125;</span>/css?family=<span class="subst">$&#123;fontFamilies&#125;</span>&amp;display=swap&amp;subset=latin,latin-ext&quot; media=&quot;print&quot; onload=&quot;this.onload=null; this.media=&#x27;all&#x27;&quot;&gt;`</span> : <span class="string">&#x27;&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="202458-简历页字体变更"><a class="markdownIt-Anchor" href="#202458-简历页字体变更"></a> 2024.5.8 简历页字体变更</h3><p>对简历页的white主题进行了改造。第一改变重点字段、滚动条的颜色，关闭js动态效果，第二加入menu与正文的分割线，第三变更网站icon显示，第四中英文字体全局变更。对于第四点需要说明。<br>中文字题的变更有三个步骤，其一选择字体，我使用了<a target="_blank" rel="noopener" href="https://github.com/KonghaYao/chinese-free-web-font-storage">中文网字计划 (Chinese Webfont Project) </a>开源的<a target="_blank" rel="noopener" href="https://chinese-font.netlify.app/fonts/jhlst/%E4%BA%AC%E8%8F%AF%E8%80%81%E5%AE%8B%E4%BD%93v1_007/">京华老宋体</a>，这一字体的历史来自于1961年北京新华字模厂改刻的老筑地体<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/637491623">61-1体</a>，并使用cn-font-split<a target="_blank" rel="noopener" href="https://chinese-font.netlify.app/online-split/">字体分包器</a>，对中文字体进行压缩、分割；其二在主题目录下source文件夹中创建font文件夹，将分割后字体文件放入；其三在layout/_partial/head.ejs中纳入字体库或在/source/css/_defined/common.styl纳入字体库，前者可使用html<ink rel="‘’" href="‘’">语句调用css，后者可使用css @font-face语句调用ttf等，二者择一，并变更source/css/_page/layout.styl、source/css/_page/media.styl、source/css/_page/post.styl中的相关字体配置。本地调用中文字体主要考虑到简历页的文字数量不多，没必要专门进行cdn加速，且已有的开源中文字体cdn多已失效。<br>英文字体的变更则选择了谷歌开源字体<a target="_blank" rel="noopener" href="https://fonts.google.com/specimen/Alegreya?subset=latin">Alegreya</a>，并使用360 的<a target="_blank" rel="noopener" href="https://cdn.baomitu.com/index/fonts">75CDN静态资源库</a>本地化 cdnjs 资源。对网页进行一次测速，中英文页面的全国各省平均响应均在1.5s左右，各地响应速度中山东移动可能慢至8s左右、吉林联通慢至13s左右。<br>此外，对博客Next主题进行了修订，主要是更换至Mist子主题，并将高亮颜色转为暗红、侧边栏底色转为纯白，去除博客title上下横线等。</ink></p><h3 id="202456-简历页双语"><a class="markdownIt-Anchor" href="#202456-简历页双语"></a> 2024.5.6 简历页双语</h3><p>参考<a target="_blank" rel="noopener" href="https://saltyleo.com/1448.html">SaltyLeo’s Blog</a>，对简历页的语言显示进行了优化。基本步骤如下：<br>第一，在根文件夹“Blog_CV”下新建文件夹“Blog_CV_En”，将“Blog_CV”中除“node_modules”文件夹外全部复制至“Blog_CV_En”，并再次npm install。第二，分别修订“Blog_CV/_config.yml”与“Blog_CV_En/_config.yml”中_config.yml，以及“/Blog_CV/themes/white/_config.yml”与“/Blog_CV_En/themes/white/_config.yml”。第三，在命令行中输入如下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Blog_CV &amp;&amp; hexo clean &amp;&amp; hexo g &amp;&amp; <span class="built_in">cd</span> ~/Blog_CV/Blog_CV_En &amp;&amp; hexo clean &amp;&amp; hexo g &amp;&amp; <span class="built_in">cd</span> ~/Blog_CV &amp;&amp; <span class="built_in">cp</span> -r ~/Blog_CV/Blog_CV_En/public/. ~/Blog_CV/public/en/</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>此外，由于双语后white主题出现了一些细微错误，对layout.styl与header.ejs文件分别进行修订，以使中英文界面保持一致。</p><h3 id="2024427-历史评论导入"><a class="markdownIt-Anchor" href="#2024427-历史评论导入"></a> 2024.4.27 历史评论导入</h3><p>从<a target="_blank" rel="noopener" href="https://www.livere.com/">来必力</a>找回了2018年7月至2019年11月的几条评论，勾起了几年前的记忆，一些朋友亦久未联络了。我早期应该还用过多说、网易云等系统，但是当时没有及时记录插件更新情况，那些更早的评论也难以打捞了。</p><h3 id="2024418-萌备案与公式"><a class="markdownIt-Anchor" href="#2024418-萌备案与公式"></a> 2024.4.18 萌备案与公式</h3><p>将萌备案icon放入Next文件夹中的source/images/中后，在footer.njk中添加下面html代码。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;display: flex; justify-content: center; width: 100%;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;2ICP-link&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: flex; align-items: center;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">style</span>=<span class="string">&quot;height:16px; margin-right: 5px;&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/images/icon120.png&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://icp.gov.moe/?keyword=20240901&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">      萌ICP备20240901号</span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>此外，发现部分文章的公式出现错误，按查阅，Next主题有两条前端渲染，（1）MathJax + hexo-renderer-pandoc；（2）KaTeX + hexo-renderer-markdown-it-plus/hexo-renderer-markdown-it + hexo-math；一条后端渲染，hexo-filter-mathjax + hexo-renderer-marked/hexo-renderer-pandoc。由于我的脚注使用了hexo-renderer-markdown-it，遂卸载并npm install hexo-renderer-markdown-it-plus —save，尔后在Next config中开启katex enable: true。</p><h3 id="2024416-子域名跳转与脚注功能"><a class="markdownIt-Anchor" href="#2024416-子域名跳转与脚注功能"></a> 2024.4.16 子域名跳转与脚注功能</h3><p>更新博客<a href="https://blog.yanyuteng.cn">子域名</a>。同时，因写作需要脚注，替换Hexo原生插件hexo-renderer-marked为<a target="_blank" rel="noopener" href="https://www.jovi.cc/add-superscript-subscript-footnote-and-other-functions-to-hexo.html/">hexo-renderer-markdown-it</a>，并配置参数。</p><h3 id="2024415-新增博客圈链接"><a class="markdownIt-Anchor" href="#2024415-新增博客圈链接"></a> 2024.4.15 新增博客圈链接</h3><p>其一，开启代码块折叠，Next8.x版本可在_config.yml直接<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/682300955">配置</a>，不再需要<a target="_blank" rel="noopener" href="https://www.toimc.com/hexo-usage-2/">自行设置</a>。其二，修订Next模版的footer部分，增加各独立博客组织链接，修订njk如下。其三，升级Waline评论系统版本，并重置参数。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;display: flex; justify-content: center; align-items: center; gap: 10px&quot;</span>&gt;</span></span><br><span class="line">  &#123;%- if theme.footer.copyright !== false %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;copyright&quot;</span>&gt;</span></span><br><span class="line">      &#123;%- set copyright_year = date(null, &#x27;YYYY&#x27;) %&#125;</span><br><span class="line">      <span class="symbol">&amp;copy;</span> &#123;% if theme.footer.since and theme.footer.since != copyright_year %&#125;&#123;&#123; theme.footer.since &#125;&#125; – &#123;% endif %&#125;</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">itemprop</span>=<span class="string">&quot;copyrightYear&quot;</span>&gt;</span>&#123;&#123; copyright_year &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;with-love&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;&#123;&#123; theme.footer.icon.name &#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      &#123;&#123; theme.footer.copyright or author &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  &#123;%- endif %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;%- if config.symbols_count_time.total_symbols or config.symbols_count_time.total_time %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wordcount&quot;</span>&gt;</span></span><br><span class="line">      &#123;%- if config.symbols_count_time.total_symbols %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-meta-item&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-meta-item-icon&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-chart-line&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          &#123;%- if theme.symbols_count_time.item_text_total %&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; __(&#x27;symbols_count_time.count_total&#x27;) + __(&#x27;symbol.colon&#x27;) &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          &#123;%- endif %&#125;</span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">title</span>=<span class="string">&quot;&#123;&#123; __(&#x27;symbols_count_time.count_total&#x27;) &#125;&#125;&quot;</span>&gt;</span>&#123;&#123; symbolsCountTotal(site) &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      &#123;%- endif %&#125;</span><br><span class="line">      </span><br><span class="line">      &#123;%- if config.symbols_count_time.total_time %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-meta-item&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-meta-item-icon&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-coffee&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          &#123;%- if theme.symbols_count_time.item_text_total %&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; __(&#x27;symbols_count_time.time_total&#x27;) &#125;&#125; <span class="symbol">&amp;asymp;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          &#123;%- endif %&#125;</span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">title</span>=<span class="string">&quot;&#123;&#123; __(&#x27;symbols_count_time.time_total&#x27;) &#125;&#125;&quot;</span>&gt;</span>&#123;&#123; symbolsTimeTotal(site, config.symbols_count_time.awl, config.symbols_count_time.wpm, __(&#x27;symbols_count_time.time_minutes&#x27;)) &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      &#123;%- endif %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  &#123;%- endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;%- if theme.footer.FindBlog.enable %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;FindBlog-link&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: flex; justify-content: center; gap: 5px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.travellings.cn/plain.html&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;noopener&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 5px;&quot;</span>&gt;</span>Travelling<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://bf.zzxworld.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;noopener&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 5px;&quot;</span>&gt;</span>BlogFinder<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://storeweb.cn/member&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;noopener&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-right: 5px;&quot;</span>&gt;</span>StoreWeb<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.foreverblog.cn/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;noopener&quot;</span>&gt;</span>ForeverBlog<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="comment">&lt;!-- 最后一个链接不需要右边距 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure><h3 id="2024414-旅行地图与博客字体"><a class="markdownIt-Anchor" href="#2024414-旅行地图与博客字体"></a> 2024.4.14 旅行地图与博客字体</h3><p>十三日在about中更新静态旅行地图，基于R语言，使用了NOAA GLOBE Topography 1km DEM数据与民政部官网审图号1873号区县级地图。代码见<a target="_blank" rel="noopener" href="https://github.com/yanyuteng/Blog_Slides/blob/main/Travel_Map/Map.R">Github</a>。<br>另，加载代码块的文章无法正常显示，查询后发现可能是Next主题的<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_19706923/article/details/108203285">motion问题</a>，故障原因待排查。<br>十四日排查发现，系偷懒没有核查_config.yml变动，hexo 7.1版本变动较大，尤其是<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/syntax-highlight">代码块</a>部分，按新版本订正后开启motion可正常显示，但是考虑加载速度，仍然关闭了该功能。同时，对博客<a target="_blank" rel="noopener" href="https://www.iszy.cc/posts/a8mr7k/">字体设置</a>为宋体，并替换谷歌源为<a target="_blank" rel="noopener" href="https://u.sb/css-cdn/">烧饼博客</a><a target="_blank" rel="noopener" href="http://xn--fonts-h81m.loli.net">的fonts.loli.net</a>。</p><h3 id="2024412-hexo框架更新"><a class="markdownIt-Anchor" href="#2024412-hexo框架更新"></a> 2024.4.12 Hexo框架更新</h3><p>更新电脑各应用。其一，检查了brew及各包控制（如nvm）版本，替换已失效阿里源为<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/">清华源</a>，更新node版本。其二，检查Hexo框架1月份已迭代至7.1（原架构为5.4.2），并更新博客架构。其三，替换npm已失效的淘宝源，见<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8fa8185066e3">《npm sill idealTree buildDeps问题》</a>，并更新博客使用的各<a target="_blank" rel="noopener" href="https://baize.cc/posts/15ac.html">node.js插件版本</a>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">brew update &amp;&amp; brew upgrade &amp;&amp; brew cleanup</span><br><span class="line">nvm install node</span><br><span class="line">cd ~/Blog_Hexo</span><br><span class="line">npm install npm@latest -g</span><br><span class="line">npm i hexo-cli -g</span><br><span class="line">npm update</span><br><span class="line">npm install -g npm-check</span><br><span class="line">npm-check</span><br><span class="line">npm install -g npm-upgrade</span><br><span class="line">npm-upgrade</span><br><span class="line">npm update -g</span><br><span class="line">npm update --save</span><br></pre></td></tr></table></figure><h3 id="202364-category更新"><a class="markdownIt-Anchor" href="#202364-category更新"></a> 2023.6.4 Category更新</h3><p>对博客内容分类进行了重要更新。</p><h3 id="2023329-http修订"><a class="markdownIt-Anchor" href="#2023329-http修订"></a> 2023.3.29 HTTP修订</h3><p>按Netlify提醒，将所有md文件报错Insecure mixed content的http修订为https。</p><h3 id="202331-netlify镜像"><a class="markdownIt-Anchor" href="#202331-netlify镜像"></a> 2023.3.1 Netlify镜像</h3><p>将Github镜像至Netlify平台托管，并更新<a target="_blank" rel="noopener" href="https://yuteng.netlify.app">学术简历</a>页。并将博客的统计链接至Google Analysis，搜索提交至Google Search与Bing Webmaster。因Next主题未更新，Google Analysis插件需在&quot;~/Blog_Hexo/node_modules/hexo-theme-next/layout/_third-party/analytics/google-analytics.njk&quot;增补。</p><h3 id="2023228-gitlab与cloudflare未果"><a class="markdownIt-Anchor" href="#2023228-gitlab与cloudflare未果"></a> 2023.2.28 Gitlab与Cloudflare未果</h3><p>接昨日，按<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_31362767/article/details/124992907">《安装 Gitlab-Runner》</a>改用brew安装成功，并按<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/67820925/gitlab-ci-cd-new-runner-has-not-been-connected-yet">《New runner has not been connected yet》</a>提示成功连接。但始终pending，查询怀疑是brew安装原因，未继续追踪。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">brew install gitlab-runner</span><br><span class="line">brew services start gitlab-runner</span><br><span class="line">gitlab-runner register</span><br><span class="line">gitlab-runner verify</span><br></pre></td></tr></table></figure><p>另改用Cloudflare尝试托管，按<a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv15174123?from=search">《使用Cloudflare Pages部署Hexo》</a>，布署成功但始终error 522，未继续追踪。补记，属于延迟问题，翌日已<a target="_blank" rel="noopener" href="https://yanyuteng.pages.dev">更新</a>。</p><h3 id="2023227-检索速度优化"><a class="markdownIt-Anchor" href="#2023227-检索速度优化"></a> 2023.2.27 检索速度优化</h3><p>下午本想将cv与博客集成，使cv托管在Gitlab，按如下文章进行了尝试，但因目前Gitlab开启了信用卡验证，即弃。暂拟托管Gitee挂cv，亦发现实名制。（1）按<a target="_blank" rel="noopener" href="https://blog.csdn.net/CCY_ayi/article/details/124838871?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0-124838871-blog-129073807.pc_relevant_aa2&amp;spm=1001.2101.3001.4242.1&amp;utm_relevant_index=3">《配置本地 GIT 同时使用多个账号》</a>配置双git秘钥；（2）尔后按<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/github-pages.html">《在 GitHub Pages 上部署 Hexo》</a>配置；（3）按<a target="_blank" rel="noopener" href="https://hubojing.github.io/2022/06/08/Hexo+GitLab%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%9C%80%E6%96%B0%E6%95%99%E7%A8%8B/">《Hexo + GitLab搭建个人博客》</a>尝试配置Gitlab runner未果。<br>另，将已有Github上的Hexo进行了升级，并按<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45173404/article/details/122861321">《Hexo集成Algolia实现搜索功能》</a>，优化了博客检索速度。升级后大致看了一下新版本的功能，很多原本需要自行配置的已被集成进来。补记，Algolia高级检索仅针对技术博客，因申请被拒，转为本地化检索。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo algolia</span><br></pre></td></tr></table></figure><h3 id="2022912-pdf插件失败日志"><a class="markdownIt-Anchor" href="#2022912-pdf插件失败日志"></a> 2022.9.12 pdf插件失败日志</h3><p>将hexo依赖的npm由版本7升至版本8，并加载pdf插件。按各平台方法仍无法显示，未进一步追踪。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-pdf</span><br><span class="line">npm install -g npm@8.19.1</span><br></pre></td></tr></table></figure><h3 id="2021107-地址迁移"><a class="markdownIt-Anchor" href="#2021107-地址迁移"></a> 2021.10.7 地址迁移</h3><p>原域名sociologist.cn到期后未续费，按2021.1.5日志：“按阿里云的邮件通知，‘<a target="_blank" rel="noopener" href="http://sociologist.cn">sociologist.cn</a>’的域名要到期了。我从一七年三月注册这一域名已有四年，今年不再续费了，原因有很多，如对自己能力的认识、博客的定位。或直接用’yanyuteng’作域名，再修正DNS等。” 晚，将github地址解析至’<a target="_blank" rel="noopener" href="http://yanyuteng.cn">yanyuteng.cn</a>’，域名注册商由阿里转为dnspod。</p><h3 id="2021812-waline评论系统"><a class="markdownIt-Anchor" href="#2021812-waline评论系统"></a> 2021.8.12 Waline评论系统</h3><p>按<a target="_blank" rel="noopener" href="https://waline.js.org/guide/get-started.html#vercel-%E9%83%A8%E7%BD%B2-%E6%9C%8D%E5%8A%A1%E7%AB%AF">《Waline官网配置》</a>、<a target="_blank" rel="noopener" href="https://guanqr.com/tech/website/introduction-and-basic-setting-of-waline/">《Waline 评论系统的介绍与基础配置》</a>、<a target="_blank" rel="noopener" href="https://finisky.github.io/hexowaline/">《Hexo使用Waline评论系统》</a>三篇文章，配置了waline评论系统，后发现<a target="_blank" rel="noopener" href="https://www.techgrow.cn/posts/ae18fb85.html">《Hexo Next 主题使用 Waline 评论系统》</a>一文更全面。关于Waline管理员账号忘记密码的bug问题，可以参考该<a target="_blank" rel="noopener" href="https://github.com/walinejs/waline/issues/207">“评论”</a>，在Leancloud修改账户权限。<br>另根据<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_39345384/article/details/80787998">《NexT主题用Leancloud统计文章阅读量》</a>配置了阅读量统计，按<a target="_blank" rel="noopener" href="https://blog.csdn.net/steptoboss/article/details/108158067">《NexT主题个性化配置》</a>配置了字数统计。此外，手动修改了Next主题的footer部分的显示。</p><h3 id="20201028-图床变更"><a class="markdownIt-Anchor" href="#20201028-图床变更"></a> 2020.10.28 图床变更</h3><p>原<a href="onmqf40zo.bkt.clouddn.com">七牛云存储</a>的图片地址必须要求备案，因此挂了很久，晚上着手替换到了阿里云。此外，博客早前存在阿里云的图片名称并不规范，日后或也逐步规范起来。</p><h3 id="2020829-博客备份"><a class="markdownIt-Anchor" href="#2020829-博客备份"></a> 2020.8.29 博客备份</h3><p>考虑到github时快时慢，coding<a target="_blank" rel="noopener" href="https://sa5day.coding-pages.com">新pages</a>分配的名字蹩脚，为方便自己平时查阅，在码云（gitee）上又备份了一次<a target="_blank" rel="noopener" href="https://yanyuteng.gitee.io">博客</a>。博客托管在三个网站，也算当代版狡兔三窟。也是我太乏味了。</p><h3 id="2020714-加载提速"><a class="markdownIt-Anchor" href="#2020714-加载提速"></a> 2020.7.14 加载提速</h3><p>按Haiyuan的建议，博客访问速度常比较慢，我取消了live2d，并将js第三方库使用bootcss提供的cdn服务。由于托管在github，无法icp备案，也就没有办法全站cdn，仅在腾讯旗下<a target="_blank" rel="noopener" href="https://www.yunaq.com">知道创宇</a>（原加速乐）使用了未备案免费cnd（实际未cdn），他名义上讲“较使用域名注册服务商提供的默认DNS解析服务解析速度平均提升2倍”。按<a target="_blank" rel="noopener" href="https://tool.chinaz.com/speedtest/www.sociologist.cn">站长工具</a>的检测看有些许改善，或是深夜心理安慰。实际效果还是没有什么提速。</p><h3 id="2020712-检索问题"><a class="markdownIt-Anchor" href="#2020712-检索问题"></a> 2020.7.12 检索问题</h3><p>按<a target="_blank" rel="noopener" href="https://www.sqlsec.com/2017/12/hexosearch.html">国光</a>的这篇文章，解决了博客无法search的问题。</p><h3 id="2020520-域名定向问题"><a class="markdownIt-Anchor" href="#2020520-域名定向问题"></a> 2020.5.20 域名定向问题</h3><p>这几天sociologist的域名访问一直是404，考虑到coding的访问人数较少，把原先的境内外分流全部默认走github了。又想把域名绑回github，但一直提示我&quot;the CNAME is already taken&quot;。我查了一圈，在<a target="_blank" rel="noopener" href="https://wangqy.cc/2018/05/26/CNAME/">wangqy</a>这里看到和我一个情况，他也没有找到合适的办法，最后是向<a href="support.github.com">Github Support</a>求助。我写邮件过去，他们回复很快，如果不算时差，解决问题非常迅速。<br>另，hexo的tags有些404我一直没时间处理，这次查了一下，主要是大小写问题，很多人（<a target="_blank" rel="noopener" href="https://www.dazhuanlan.com/2020/01/15/5e1e07ccf3200/">大专栏</a>、<a target="_blank" rel="noopener" href="https://xxpcb.github.io/2019/09/01/hexo%E7%94%9F%E6%88%90%E7%9A%84%E6%A0%87%E7%AD%BE%E7%B1%BB%E5%88%AB%E4%BF%AE%E6%94%B9%E5%A4%A7%E5%B0%8F%E5%86%99%E9%97%AE%E9%A2%98/">xxpcb</a>）都遇到过，按他们的方法顺利解决了。</p><h3 id="2020213-ssl证书"><a class="markdownIt-Anchor" href="#2020213-ssl证书"></a> 2020.2.13 SSL证书</h3><p>不知不觉博客用sociologist.cn这个域名已经三年了，今年是三月份就是第四年了。最近半年，我的内心转变其实很大，一度不想再用这个域名，一方面觉自己与学术理想已渐行渐远，另一方面，自己的能力或也不恰使用这一词标榜自己。但更改域名后相关配置也要重写一遍，人怕麻烦，也有顾念以前，就恬不知耻地继续用吧。<br>这次检查了一下，以往用新设备访问总显示不安全链接，就在阿里开了ssl个人证书。目前买域名用的阿里云、域名解析用的腾讯云（原dnspod）、网页托管用的微软（github）与腾讯（coding）、网页统计用的谷歌统计与百度统计。博客的维护其实也是互联网生态的一角吧。</p><h3 id="2019523-echart插件"><a class="markdownIt-Anchor" href="#2019523-echart插件"></a> 2019.5.23 Echart插件</h3><p>我今天下午在想如何将Echart和博客写作结合起来，通过<a target="_blank" rel="noopener" href="https://kchen.cc/2016/11/05/echarts-in-hexo/">KChen’s Blog</a>的<a target="_blank" rel="noopener" href="https://github.com/quentin-chen/hexo-tag-echarts3">ECharts插件</a>，本地显示成功。但问题在于，KChen的插件只能在option里定义data，如果data较大，或data是动态的，显示起来就比较麻烦。同时，加载Echart后，博客加载速度显著变慢，这里不再展示。因为我对JavaScript知之甚少，只能暂时搁置。</p><h3 id="2018123-分类变动"><a class="markdownIt-Anchor" href="#2018123-分类变动"></a> 2018.12.3 分类变动</h3><p>晚上将博客的分类全面改动了一下，明年拟专攻SNA方向。</p><h3 id="2018725-hexo_url配置"><a class="markdownIt-Anchor" href="#2018725-hexo_url配置"></a> 2018.7.25 Hexo_url配置</h3><p>（1）url sitemap索引：<a target="_blank" rel="noopener" href="https://blog.csdn.net/sunshine940326/article/details/70936988/">hexo高阶教程：想让你的博客被更多的人在搜索引擎中搜到吗？</a>、<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/f37452d4978e">Hexo百度主动提交链接</a><br>（2）url英文翻译插件：<a target="_blank" rel="noopener" href="https://github.com/cometlj/hexo-translate-title">hexo-translate-title</a>、<a target="_blank" rel="noopener" href="https://blog.mariojd.cn/20180628/hexo,-add-the-title-translation-plug-in.html">Hexo，添加标题翻译插件</a><br>（3）404 page：<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/21650209">hexo 怎么创建404页面？</a></p><h3 id="20171127-更新node"><a class="markdownIt-Anchor" href="#20171127-更新node"></a> 2017.11.27 更新node</h3><p>晚上打算给博客加个新功能，看了一下本机node的版本还是6.2的，新node已经9.2了，不得不感叹一下cs的迭代真快，这也就是一年多的光景。</p><h3 id="2017413-ip分流提速"><a class="markdownIt-Anchor" href="#2017413-ip分流提速"></a> 2017.4.13 IP分流提速</h3><p>下午上完课按IP地址把访客国内外分流，关闭Google字体，博客的访问速度明显提升，还是挺开心的！</p><h3 id="201735-地址迁移"><a class="markdownIt-Anchor" href="#201735-地址迁移"></a> 2017.3.5 地址迁移</h3><p>无意间看到狗爹注册com域名降至7元，后发现杂七杂八加到一起还是要百十元，相比之下万网虽在国内，但价格的确公道一些。对于新域名本有两个打算，一是纪念孙本文先生的《社会学ABC》，起先的计划是注册sociologyabc，但sociologist似乎更好记一些，最终注册了后者。临熄灯前，博客已全面解析至 <a target="_blank" rel="noopener" href="http://www.sociologist.cn">www.sociologist.cn</a> 这是我的第一个独立域名，也是我自16年中旬于台湾交流期间搭建半独立博客后的一个进步。今夜非常开心！博客如我的子嗣，我看着它长大，以泪水与欢笑。</p><h3 id="2017224-地址迁移"><a class="markdownIt-Anchor" href="#2017224-地址迁移"></a> 2017.2.24 地址迁移</h3><p>Github的网页在凌晨突然登陆不进，便开始着手转移到Coding，大约两点转移好，转到国内Coding后想直接把一直没改的DNS解析一并改好，才发现freenom把DNSPOD、dnsever几个免费商全禁了，日后有时间再慢慢折腾。域名则从\www.yanyuteng.tk 转为了\www.sociology.ml ，为纪念专业Sociology与我近来的关注点Machine Learning。</p><h3 id="2016115-vendors目录访问失效"><a class="markdownIt-Anchor" href="#2016115-vendors目录访问失效"></a> 2016.11.5 vendors目录访问失效</h3><p>博客近来突然空白，不明原因，下午本打算看书，只好跑去查是什么原因，搞了半天没有反应。晚上吃完饭福至心灵查了一下，开发者iissnan在两天前写了答案。</p><blockquote><p>“不清楚为什么 GitHub Pages 过滤掉了 source/vendors 目录的访问。可以手动将 source/vendors 目录修改成 source/lib （或者其他的名称，只是 lib 我测试了可以使用）；同时，修改下主题配置文件_config.yml， 将 _internal: vendors 改成你所修改的名字，例如 _internal: lib。”</p></blockquote><h3 id="2016613-删库新浪博客"><a class="markdownIt-Anchor" href="#2016613-删库新浪博客"></a> 2016.6.13 删库新浪博客</h3><p>新浪博客是我大一下學期伊始開的博客。斷斷續續寫了一年，旅台期間，漸而接觸獨立博客，遂萌生自立門戶的心思，個人博客業已搭建完，新浪博客不再更新。博客終歸是屬於自己的精神世界，不為他人的寫作是快樂的，若有一二閒人與我有些共鳴，則是我的幸運。</p><h3 id="2016531-地址迁移"><a class="markdownIt-Anchor" href="#2016531-地址迁移"></a> 2016.5.31 地址迁移</h3><p>新浪博客訪問經常卡頓，文章陸續搬遷至github博客，但總是出錯，檢查了一晚上是因為某處少輸入一個空格，yml格式實在嚴格；另看了kael的pc端很棒，但移動端太丑，最終還是換了NexT。<a target="_blank" rel="noopener" href="http://xn--yanyuteng-fv8of05azi8b411b.tk">域名暂用yanyuteng.tk</a>。</p><h3 id="201536-开通新浪博客"><a class="markdownIt-Anchor" href="#201536-开通新浪博客"></a> 2015.3.6 开通新浪博客</h3><p>前阵子室友说要写博客，恍惚记起我曾经也注册过一个博客。那时中考失利想寻人安慰，写了牢骚挂在网上，现在想来很有趣，起兴致又找到当时博客，虽早已忘记账号密码。十六岁刚上高中的记忆还很清晰，现在十八岁却已过了大半，大一秋季学期了。<br>虽是“少年不识愁滋味，为赋新词强说愁。” 但大抵这几年看了些书，对很多文章有所感触。夫子尝曰：“逝者如斯夫！不舍昼夜。”人生须臾，现在虽仍少年，但白驹一跃，再回首不知何岁月了。因而起心思，重开了新浪博客，打算做些记录，为与人分享我年少轻狂，也为老时能帮助回忆。所谓欲说还休，却道天凉好个秋。13:42 于哈尔滨。</p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"><strong>Post author: </strong>Yuteng Yan</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://blog.yanyuteng.cn/2024/05/06/6a7d82f6/" title="Prose_博客日志">https://blog.yanyuteng.cn/2024/05/06/6a7d82f6/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="post-tags"><a href="/tags/log/" rel="tag"># log</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2024/05/06/a6894eaa/" rel="prev" title="Prose_统计暨编程问题日志"><i class="fa fa-angle-left"></i> Prose_统计暨编程问题日志</a></div><div class="post-nav-item"><a href="/2024/05/12/26106388/" rel="next" title="Memo_The Sustainability of Demographic Progress Around the World">Memo_The Sustainability of Demographic Progress Around the World <i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div style="display:flex;justify-content:center;align-items:center;gap:10px"><div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-solid fa-pen-nib"></i> </span>Yuteng Yan</div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span title="Word count total">920k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="Reading time total">51:06</span></span></div></div><div class="FindBlog-link" style="display:flex;justify-content:center;gap:5px"><span style="margin-right:5px">Blogs:</span><a href="https://d.cosx.org/d/421538" target="_blank" rel="noopener" style="margin-right:5px;color:#565656">RBind.io</a> <a href="https://discoveryinsights.site" target="_blank" rel="noopener" style="margin-right:5px;color:#565656">Insights</a> <a href="https://travellings.cn/plain.html" target="_blank" rel="noopener" style="margin-right:5px;color:#909090">Travelling</a> <a href="https://boyouquan.com/planet-shuttle" target="_blank" rel="noopener" style="color:#909090">Boyou</a></div><div style="display:flex;justify-content:center;width:100%"><div class="2ICP-link" style="display:flex;align-items:center"><img style="height:16px;margin-right:5px" src="/images/icon120.png"> <a href="https://icp.gov.moe/?keyword=20240901" target="_blank">萌ICP备20240901号</a></div></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="waline" type="application/json">{"lang":"en-US","enable":true,"serverURL":"https://yuteng-waline.netlify.app/.netlify/functions/comment/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":true,"locale":{"placeholder":"Kindly enter your nickname, allowing me to respond to your comment."},"emoji":["https://unpkg.com/@waline/emojis@1.0.1/qq"],"wordLimit":1000,"login":"enable","pageSize":10,"requiredMeta":[["nick"]],"el":"#waline","comment":true,"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","path":"/2024/05/06/6a7d82f6/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>document.addEventListener("page:loaded",()=>{NexT.utils.loadComments(CONFIG.waline.el).then(()=>NexT.utils.getScript(CONFIG.waline.libUrl,{condition:window.Waline})).then(()=>Waline.init(Object.assign({},CONFIG.waline,{el:document.querySelector(CONFIG.waline.el)})))})</script></body></html>